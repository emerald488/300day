# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é PWA –Ω–∞ iPhone

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∞ –≤–µ—Ä—Å–∏—è Service Worker —Å `v2` –Ω–∞ `v3`
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è "Network First" –¥–ª—è HTML/CSS/JS (–≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–µ –≤–µ—Ä—Å–∏–∏)
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è HTML
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫ CSS –∏ JS —Ñ–∞–π–ª–∞–º (?v=3)
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è –≤ manifest.json

## –ö–∞–∫ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ iPhone:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
1. –ó–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –¥–æ–º–∞—à–Ω–µ–º —ç–∫—Ä–∞–Ω–µ
2. –ù–∞–∂–º–∏—Ç–µ "–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" ‚Üí "–£–¥–∞–ª–∏—Ç—å"
3. –û—Ç–∫—Ä–æ–π—Ç–µ Safari –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" (–∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π –≤–≤–µ—Ä—Ö)
5. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª"
6. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å"

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Safari
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **Safari**
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –∏ –Ω–∞–∂–º–∏—Ç–µ **"–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ –¥–∞–Ω–Ω—ã–µ"**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ—á–∏—Å—Ç–∫—É
4. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Safari
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –≤ Safari (–Ω–µ –≤ PWA)
2. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É: –∑–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –≤–µ—Ä—Å–∏—é –¥–ª—è –ü–ö"
3. –ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –∑–∞–∂–º–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é"
4. –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ PWA —Å –¥–æ–º–∞—à–Ω–µ–≥–æ —ç–∫—Ä–∞–Ω–∞

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Dev Tools
1. –û—Ç–∫—Ä–æ–π—Ç–µ Safari –Ω–∞ Mac
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone —á–µ—Ä–µ–∑ USB
3. –í Safari –Ω–∞ Mac: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí [–í–∞—à iPhone] ‚Üí [PWA —Å—Ç—Ä–∞–Ω–∏—Ü–∞]
4. –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
caches.keys().then(keys => keys.forEach(key => caches.delete(key)));
navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(reg => reg.unregister()));
location.reload();
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- –ù–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–∫–∞–∂–µ—Ç: "Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω" —Å –≤–µ—Ä—Å–∏–µ–π v3

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
1. Service Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞–∂–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "üîÑ –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!"
3. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ "–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å" –ø—Ä–∏–º–µ–Ω–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —á–∞—Å (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ:
1. –í–µ—Ä—Å–∏—é –≤ `service-worker.js`: `CACHE_NAME = '300-challenge-vX'`
2. –í–µ—Ä—Å–∏—é –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö HTML: `?v=X`
3. –í–µ—Ä—Å–∏—é –≤ `manifest.json`: `"version": "1.0.X"`

iOS Safari –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.
